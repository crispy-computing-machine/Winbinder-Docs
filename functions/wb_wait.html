<html>

<head>
<title>wb_wait</title>
<meta name="generator" content="Namo WebEditor v5.0">


<link rel="stylesheet" href="../help.css">


</head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<!--KW:
wb_wait
-->
<h2>wb_wait</h2>
<p>int <b>wb_wait</b> ([int window [, int pause [, int flags]]])</p>
<p>This function creates a delay and verify if mouse buttons are pressed&nbsp;and/or
the&nbsp;keyboard state. This function is useful for lengthy operations. In
this case, <b>wb_wait</b>&nbsp;guarantees that the message control is sent back
to the main loop, avoiding an unpleasant &quot;freezing&quot; effect. Using
this function also provides an way to easily exit lengthy operations by constantly
monitoring the keyboard and mouse.</p>
<h1>Parameters</h1>
<p>All parameters are optional. If <i>window</i> is null or not provided, the
function will monitor the application's foreground window. An optional <i>pause</i> value, in milliseconds, can be passed to the function to provide accurate time
delays. The default is 0 ms (no pause). The following constants are accepted in the <i>flags</i> argument to specify
the events that will be monitored:</p>
<p><code>WBC_MOUSEDOWN<br>WBC_MOUSEUP<br>WBC_KEYDOWN<br>WBC_KEYUP<br></code></p>
<p>The default is <code>WBC_KEYDOWN</code>. Note that if you set <i>flags</i>
to zero,&nbsp;the function will not monitor any keyboard or mouse button events.</p>
<h1>Return values</h1>
<p>The following table shows the possible return values for <b>wb_wait</b>.</p>
<table border="1" cellspacing="0" bordercolordark="white" bordercolorlight="black" width="70%">
    <tr>
        <th width="120">            <p>Condition</p>
        </th>
        <th width="440">            <p>Return value</p>
        </th>
    </tr>
    <tr>
        <td width="120">
            <p>Key pressed</p>
        </td>
        <td width="440">
            <p>Key code</p>
        </td>
    </tr>
    <tr>
        <td width="120">
            <p>Key released</p>
        </td>
        <td width="440">
            <p>Key code</p>
        </td>
    </tr>
    <tr>
        <td width="120">
            <p>Mouse button pressed</p>
        </td>
        <td width="440">
            <p>A double word (LONG) with the mouse button code¹ in the low-order
            word and WBC_MOUSEDOWN in the high-order word</p>
        </td>
    </tr>
    <tr>
        <td width="120">
            <p>Mouse button released</p>
        </td>
        <td width="440">
            <p>A double word (LONG) with the mouse button code¹ in the low-order
            word and WBC_MOUSEUP in the high-order word</p>
        </td>
    </tr>
</table>
<p><font size="1">¹ The mouse button code&nbsp;is: 1 for left button, 2 for
middle button, 3 for right button.</font></p>
<p>If you monitor the return value, you may provide action based on the specific
key or mouse button that generated the event.</p>
<h1>Examples</h1>
<p>Using <b>wb_wait()</b> to monitor input</p>
<table border="0" bgcolor="#E0E0E0" cellpadding="5" >
<tr><td>
            <p><code>for($i = 0; $i &lt; $many; $i++) {<br> &nbsp;&nbsp;&nbsp;&nbsp;do_lengthy_operation();<br>
            &nbsp;&nbsp;&nbsp;&nbsp;if(wb_wait() == 27) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//
            Check for ESC key<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(wb_message_box($mainwin,
            &quot;Are you sure you want to stop?&quot;, APPNAME, WBC_YESNO))<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>}</code></p>
</td></tr>
</table>
<p>Using <b>wb_wait()</b> to pause execution</p>
<table border="0" bgcolor="#E0E0E0" cellpadding="5" >
<tr><td>
            <p><code>// Some code<br>wb_wait($mainwin, 5000, WBC_KEYDOWN); &nbsp;&nbsp;&nbsp;//
            Halt execution for 5 seconds or until a key is pressed<br>// Some
            more code</code></p>
</td></tr>
</table>
<br>
<p><b>See also</b></p>
<p><a href="../reference/functions_category.html#system">System functions</a><br><a href="../reference/functions_category.html#window">Window functions</a></p>

<p>&nbsp;</p>
</body>

</html>
